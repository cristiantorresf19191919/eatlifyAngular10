{"ast":null,"code":"import Swal from \"sweetalert2\";\nimport { timer } from 'rxjs';\nimport { JwtHelperService } from \"@auth0/angular-jwt\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../servicios/cajeros.service\";\nimport * as i2 from \"../_validadores/ValidacionesPersonalizadas\";\nimport * as i3 from \"../_validadores/LoginCorreonoEsta\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../servicios/auth.guard\";\nimport * as i7 from \"../loading-global/loading-global.component\";\nimport * as i8 from \"@angular/common\";\n\nfunction LoginComponent_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \"Te falto poner Arroba\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \"Ingresa el Email por favor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_16_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelementStart(1, \"b\", 20);\n    i0.ɵɵtext(2, \"Correo no se encuentra en la base de datos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_16_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelementStart(1, \"b\", 21);\n    i0.ɵɵtext(2, \"Problemas con el servidor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, LoginComponent_div_16_div_1_Template, 3, 0, \"div\", 18);\n    i0.ɵɵtemplate(2, LoginComponent_div_16_div_2_Template, 3, 0, \"div\", 18);\n    i0.ɵɵtemplate(3, LoginComponent_div_16_div_3_Template, 3, 0, \"div\", 18);\n    i0.ɵɵtemplate(4, LoginComponent_div_16_div_4_Template, 3, 0, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.Emailgetter.errors.tieneArroba);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.Emailgetter.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.Emailgetter.errors == null ? null : ctx_r0.Emailgetter.errors.correoExiste);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.Emailgetter.errors == null ? null : ctx_r0.Emailgetter.errors.serverError);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n}; // import { VentasSocketService } from '../admin/ventas-socket/ventas-socket.service';\n\n\nconst helper = new JwtHelperService();\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(cajerosService, validacionesPersonalizadas, asyncValidator, ConstructorFormu, router, guardian) {\n      this.cajerosService = cajerosService;\n      this.validacionesPersonalizadas = validacionesPersonalizadas;\n      this.asyncValidator = asyncValidator;\n      this.ConstructorFormu = ConstructorFormu;\n      this.router = router;\n      this.guardian = guardian;\n      this.loading = false;\n      this.sourceABC = timer(3000);\n\n      if (this.guardian.TokenValide()) {\n        this.router.navigate([\"/admin\"]);\n      }\n    }\n\n    ngOnDestroy() {\n      //Called once, before the instance is destroyed.\n      //Add 'implements OnDestroy' to the class.\n      if (this.subscription) this.subscription.unsubscribe(); // this.subscription2.unsubscribe();\n    }\n\n    ngOnInit() {\n      /*  this.socketService.connectionSuccesfully.subscribe((data)=>{\n         alert(\"concexion con socket con exito\");\n       }); */\n      this.loading = true; //esperar 3 segundos para apagar el loading\n\n      this.subscription = this.sourceABC.subscribe(val => {\n        this.loading = false;\n      });\n      this.LoginDaddy = this.ConstructorFormu.group({\n        email: [\"\", this.validacionesPersonalizadas.Busque(/\\w/i), this.asyncValidator.validate.bind(this.asyncValidator)],\n        password: [\"\"]\n      });\n    }\n\n    get Emailgetter() {\n      return this.LoginDaddy.get(\"email\");\n    }\n\n    login() {\n      this.loading = true;\n      const emailToLowerCase = this.Emailgetter.value.toLowerCase();\n      this.Emailgetter.setValue(emailToLowerCase);\n      this.LoginDaddy.value; //esperar 3 segundos para apagar el loading\n\n      this.subscription = this.sourceABC.subscribe(val => {\n        this.loading = false;\n      });\n      this.cajerosService.loginCajero(this.LoginDaddy.value).subscribe(data => {\n        if (data) {\n          this.cajerosService.guardeUsuario(data.usuarioenviar);\n          this.cajerosService.storeUserData(data.token, data.usuarioenviar.admin, data.usuarioenviar.id);\n          Swal.fire({\n            title: \"Bienvenido \" + data.usuarioenviar.name,\n            icon: \"success\",\n            confirmButtonText: \"Ingresar\"\n          }).then(a => {\n            if (a.value) this.router.navigate([\"/admin\"]);\n          });\n        }\n      }, error => {\n        console.log(error);\n        if (error.error.msg) Swal.fire({\n          title: 'Error de conexion',\n          text: error.error.msg,\n          icon: 'warning'\n        });\n        Swal.fire({\n          title: 'Error',\n          text: 'Credenciales Invalidas',\n          icon: 'warning'\n        });\n      });\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.CajerosService), i0.ɵɵdirectiveInject(i2.ValidacionesPersonalizadas), i0.ɵɵdirectiveInject(i3.AsyncValidador), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.AuthGuard));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 29,\n    vars: 6,\n    consts: [[3, \"loadingState\"], [1, \"title-container\"], [1, \"login-container\"], [1, \"logo-box\"], [\"src\", \"assets/img/logo.png\", \"alt\", \"\", 1, \"logo-box__logo\"], [1, \"form-box\"], [\"id\", \"accesspanel\", 3, \"formGroup\", \"submit\"], [\"id\", \"litheader\", 1, \"poweron\"], [1, \"inset\"], [\"type\", \"text\", \"name\", \"email\", \"required\", \"\", \"formControlName\", \"email\", \"id\", \"email\", \"placeholder\", \"Email address\", 3, \"ngClass\"], [\"type\", \"password\", \"name\", \"password\", \"formControlName\", \"password\", \"required\", \"\", \"id\", \"password\", \"placeholder\", \"Codigo de Acceso\"], [4, \"ngIf\"], [2, \"text-align\", \"center\"], [\"type\", \"hidden\", \"name\", \"service\", \"value\", \"login\", 1, \"loginLoginValue\"], [1, \"p-container\"], [\"type\", \"submit\", \"name\", \"Login\", \"id\", \"go\", \"value\", \"Entrar\"], [1, \"login-footer\"], [\"href\", \"https://opttimusdev.com\", \"target\", \"_blank\"], [\"class\", \"animated pulse\", 4, \"ngIf\"], [1, \"animated\", \"pulse\"], [2, \"color\", \"orange\", \"font-size\", \"15px\"], [2, \"color\", \"red\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-loading-global\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\");\n        i0.ɵɵtext(3, \"Sistema POS & Delivery para Restaurantes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelement(6, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"form\", 6);\n        i0.ɵɵlistener(\"submit\", function LoginComponent_Template_form_submit_8_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵelementStart(9, \"h1\", 7);\n        i0.ɵɵtext(10, \"LOGIN\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 8);\n        i0.ɵɵelementStart(12, \"p\");\n        i0.ɵɵelement(13, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"p\");\n        i0.ɵɵelement(15, \"input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, LoginComponent_div_16_Template, 5, 4, \"div\", 11);\n        i0.ɵɵelement(17, \"div\", 12);\n        i0.ɵɵelement(18, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"p\", 14);\n        i0.ɵɵelement(20, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 16);\n        i0.ɵɵelementStart(22, \"b\");\n        i0.ɵɵtext(23, \"Eatlify\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"p\");\n        i0.ɵɵtext(25, \"Por tiempo limitado recibe pedidos de tu menu mas demandado GRATIS, Aumenta tus ventas y date a conocer \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"b\");\n        i0.ɵɵelementStart(27, \"a\", 17);\n        i0.ɵɵtext(28, \"OpttimusDev\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"loadingState\", ctx.loading);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"formGroup\", ctx.LoginDaddy);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx.Emailgetter.errors == null ? null : ctx.Emailgetter.errors.correoExiste));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.Emailgetter.invalid && (ctx.Emailgetter.dirty || ctx.Emailgetter.touched));\n      }\n    },\n    directives: [i7.LoadingGlobalComponent, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.FormControlName, i8.NgClass, i8.NgIf],\n    styles: [\".title-container[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#1b1b1bf8,#0b0f11f3),url(https://cdn.pixabay.com/photo/2016/11/18/15/53/breakfast-1835478_960_720.jpg);color:#fff;text-align:center}.login-container[_ngcontent-%COMP%]{background:#1b1b1b;background-image:linear-gradient(90deg,#1b1b1bf8,#0b0f11f3),url(https://cdn.pixabay.com/photo/2016/11/18/15/53/breakfast-1835478_960_720.jpg);width:100%;height:120vh;color:#fff;display:flex;position:relative;justify-content:center;align-items:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:#111;box-shadow:0 5px 10px 5px #0003;border:1px solid #191919;border-radius:.4em;overflow:hidden;position:relative;width:100%}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:after{content:\\\"\\\";background:linear-gradient(to right,#111111,#444444,#b6b6b8,#444444,#2F2F2F,#272727);display:block;height:1px;left:50px;position:absolute;top:0;width:150px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:before{content:\\\"\\\";border-radius:50%;box-shadow:0 0 6px 4px #fff;display:block;height:5px;left:34%;position:absolute;top:-7px;width:8px}.inset[_ngcontent-%COMP%]{border-top:1px solid #19191a;padding:20px}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{border-bottom:1px solid #000;font-size:18px;padding:15px 0;position:relative;text-align:center;text-shadow:0 1px 0 #000}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#027915;font-weight:400}form[_ngcontent-%COMP%]   h1.poweron[_ngcontent-%COMP%]{color:#cfcfcf;transition:all .5s}form[_ngcontent-%COMP%]   h1.poweron[_ngcontent-%COMP%]:hover{animation:flicker 6s ease-in-out 1 alternate,neon 6.5s ease-in-out infinite alternate;animation-delay:0s,1s}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{position:absolute;width:250px;height:180px;content:\\\"\\\";display:block;pointer-events:none;top:0;left:0;margin-left:138px;transform-style:flat;transform:skew(20deg);background:-ms-linear-gradient(top,rgba(255,255,255,.1) 0%,rgba(255,255,255,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\\\"#42ffffff\\\",endColorstr=\\\"#00ffffff\\\",GradientType=0);background:linear-gradient(to bottom,rgba(255,255,255,.1) 0%,rgba(255,255,255,0) 100%)}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{background:linear-gradient(#1f2124,#27292c);border:1px solid #222;border-radius:.3em;box-shadow:0 1px #ffffff1a;color:#fff;font-size:13px;margin-bottom:20px;padding:8px 5px;width:100%}input[type=text][_ngcontent-%COMP%]:disabled, input[type=password][_ngcontent-%COMP%]:disabled{color:#999}label[for=remember][_ngcontent-%COMP%]{color:#bbb;display:inline-block;height:20px;line-height:20px;vertical-align:top;padding:0 0 0 5px}.p-container[_ngcontent-%COMP%]{padding:0 20px 20px}.p-container[_ngcontent-%COMP%]:after{clear:both;content:\\\"\\\";display:table}.p-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0d93ff;display:block;float:left;padding-top:8px}input[type=submit][_ngcontent-%COMP%]{background:#027915;border:1px solid rgba(0,0,0,.4);border-radius:.3em;box-shadow:inset 0 1px #ffffff4d,inset 0 10px 10px #ffffff1a;color:#fff;cursor:pointer;font-size:1.7rem;font-weight:700;height:40px;padding:5px 20px;width:100%}.denied[_ngcontent-%COMP%]{color:#fff!important;text-shadow:0 0 1px black;background:#EE0000!important}input[type=submit][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px #ffffff4d,inset 0 -10px 10px #ffffff1a}input[type=text][_ngcontent-%COMP%]:hover:not([disabled]), input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:hover:not([disabled]), input[type=password][_ngcontent-%COMP%]:focus, label[_ngcontent-%COMP%]:hover ~ input[type=text][_ngcontent-%COMP%], label[_ngcontent-%COMP%]:hover ~ input[type=password][_ngcontent-%COMP%]{background:#27292c}@keyframes neon{0%{text-shadow:0 0 2.5px #fff,0 0 5px #fff,0 0 7.5px #fff,0 0 10px #B6FF00,0 0 17.5px #B6FF00,0 0 20px #B6FF00,0 0 25px #B6FF00,0 0 37.5px #B6FF00}to{text-shadow:0 0 3px #fff,0 0 7px #fff,0 0 13px #fff,0 0 17px #B6FF00,0 0 33px #B6FF00,0 0 38px #B6FF00,0 0 48px #B6FF00,0 0 63px #B6FF00}}@keyframes flicker{0%{text-shadow:0 0 2.5px #fff,0 0 5px #fff,0 0 7.5px #fff,0 0 10px #B6FF00,0 0 17.5px #B6FF00,0 0 20px #B6FF00,0 0 25px #B6FF00,0 0 37.5px #B6FF00}2%{text-shadow:none}8%{text-shadow:0 0 2.5px #fff,0 0 5px #fff,0 0 7.5px #fff,0 0 10px #B6FF00,0 0 17.5px #B6FF00,0 0 20px #B6FF00,0 0 25px #B6FF00,0 0 37.5px #B6FF00}10%{text-shadow:none}20%{text-shadow:0 0 2.5px #fff,0 0 5px #fff,0 0 7.5px #fff,0 0 10px #B6FF00,0 0 17.5px #B6FF00,0 0 20px #B6FF00,0 0 25px #B6FF00,0 0 37.5px #B6FF00}22%{text-shadow:none}24%{text-shadow:0 0 2.5px #fff,0 0 5px #fff,0 0 7.5px #fff,0 0 10px #B6FF00,0 0 17.5px #B6FF00,0 0 20px #B6FF00,0 0 25px #B6FF00,0 0 37.5px #B6FF00}28%{text-shadow:none}32%{text-shadow:0 0 2.5px #fff,0 0 5px #fff,0 0 7.5px #fff,0 0 10px #B6FF00,0 0 17.5px #B6FF00,0 0 20px #B6FF00,0 0 25px #B6FF00,0 0 37.5px #B6FF00}34%{text-shadow:none}36%{text-shadow:none}42%{text-shadow:none}to{text-shadow:0 0 2.5px #fff,0 0 5px #fff,0 0 7.5px #fff,0 0 10px #B6FF00,0 0 17.5px #B6FF00,0 0 20px #B6FF00,0 0 25px #B6FF00,0 0 37.5px #B6FF00}}.is-invalid[_ngcontent-%COMP%]{border-bottom:1px solid red}.logo-box[_ngcontent-%COMP%]{position:absolute;top:4rem;left:4rem}.logo-box__logo[_ngcontent-%COMP%]{height:5rem;transition:all .4s}.logo-box__logo[_ngcontent-%COMP%]:hover{transform:skew(-15deg)}.form-box[_ngcontent-%COMP%]{width:25%}.login-footer[_ngcontent-%COMP%]{margin:2rem 0;text-align:center;padding:1rem 0;font-size:14px}.login-footer[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{display:block}.login-footer[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2rem}@media screen and (max-width: 1028px){.form-box[_ngcontent-%COMP%]{width:70%!important}}@media screen and (max-width: 545px){.form-box[_ngcontent-%COMP%]{width:85%!important}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}