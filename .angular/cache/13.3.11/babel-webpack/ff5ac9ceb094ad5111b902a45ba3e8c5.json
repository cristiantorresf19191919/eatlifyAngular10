{"ast":null,"code":"import { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, Input, Output, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as Chart from 'chart.js';\nimport * as ɵngcc0 from '@angular/core';\nlet UIChart = /*#__PURE__*/(() => {\n  class UIChart {\n    constructor(el) {\n      this.el = el;\n      this.plugins = [];\n      this.responsive = true;\n      this.onDataSelect = new EventEmitter();\n      this._options = {};\n    }\n\n    get data() {\n      return this._data;\n    }\n\n    set data(val) {\n      this._data = val;\n      this.reinit();\n    }\n\n    get options() {\n      return this._options;\n    }\n\n    set options(val) {\n      this._options = val;\n      this.reinit();\n    }\n\n    ngAfterViewInit() {\n      this.initChart();\n      this.initialized = true;\n    }\n\n    onCanvasClick(event) {\n      if (this.chart) {\n        let element = this.chart.getElementAtEvent(event);\n        let dataset = this.chart.getDatasetAtEvent(event);\n\n        if (element && element[0] && dataset) {\n          this.onDataSelect.emit({\n            originalEvent: event,\n            element: element[0],\n            dataset: dataset\n          });\n        }\n      }\n    }\n\n    initChart() {\n      let opts = this.options || {};\n      opts.responsive = this.responsive; // allows chart to resize in responsive mode\n\n      if (opts.responsive && (this.height || this.width)) {\n        opts.maintainAspectRatio = false;\n      }\n\n      this.chart = new Chart(this.el.nativeElement.children[0].children[0], {\n        type: this.type,\n        data: this.data,\n        options: this.options,\n        plugins: this.plugins\n      });\n    }\n\n    getCanvas() {\n      return this.el.nativeElement.children[0].children[0];\n    }\n\n    getBase64Image() {\n      return this.chart.toBase64Image();\n    }\n\n    generateLegend() {\n      if (this.chart) {\n        return this.chart.generateLegend();\n      }\n    }\n\n    refresh() {\n      if (this.chart) {\n        this.chart.update();\n      }\n    }\n\n    reinit() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.initChart();\n      }\n    }\n\n    ngOnDestroy() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.initialized = false;\n        this.chart = null;\n      }\n    }\n\n  }\n\n  UIChart.ɵfac = function UIChart_Factory(t) {\n    return new (t || UIChart)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n  };\n\n  UIChart.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: UIChart,\n    selectors: [[\"p-chart\"]],\n    inputs: {\n      plugins: \"plugins\",\n      responsive: \"responsive\",\n      data: \"data\",\n      options: \"options\",\n      type: \"type\",\n      width: \"width\",\n      height: \"height\"\n    },\n    outputs: {\n      onDataSelect: \"onDataSelect\"\n    },\n    decls: 2,\n    vars: 6,\n    consts: [[2, \"position\", \"relative\"], [3, \"click\"]],\n    template: function UIChart_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"canvas\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function UIChart_Template_canvas_click_1_listener($event) {\n          return ctx.onCanvasClick($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.responsive && !ctx.width ? null : ctx.width)(\"height\", ctx.responsive && !ctx.height ? null : ctx.height);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.responsive && !ctx.width ? null : ctx.width)(\"height\", ctx.responsive && !ctx.height ? null : ctx.height);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return UIChart;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet ChartModule = /*#__PURE__*/(() => {\n  class ChartModule {}\n\n  ChartModule.ɵfac = function ChartModule_Factory(t) {\n    return new (t || ChartModule)();\n  };\n\n  ChartModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: ChartModule\n  });\n  ChartModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return ChartModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ChartModule, {\n    declarations: function () {\n      return [UIChart];\n    },\n    imports: function () {\n      return [CommonModule];\n    },\n    exports: function () {\n      return [UIChart];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { ChartModule, UIChart }; //# sourceMappingURL=primeng-chart.js.map","map":null,"metadata":{},"sourceType":"module"}