{"ast":null,"code":"import Swal from 'sweetalert2';\nimport { zoomInLeftOnEnterAnimation } from 'angular-animations';\nimport { Utilities } from '../Utilties';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/servicios/productos.service\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"src/app/servicios/categorias.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../Utilties\";\nimport * as i6 from \"src/app/servicios/delivery.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"primeng/toast\";\nimport * as i9 from \"primeng/table\";\nimport * as i10 from \"@angular/material/icon\";\nimport * as i11 from \"primeng/inputtext\";\nimport * as i12 from \"primeng/button\";\nimport * as i13 from \"primeng/dropdown\";\nimport * as i14 from \"@angular/forms\";\n\nfunction ProductsComponent_div_4_div_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵelementStart(2, \"div\", 12);\n    i0.ɵɵelementStart(3, \"mat-icon\", 13);\n    i0.ɵɵtext(4, \"search\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 14);\n    i0.ɵɵlistener(\"input\", function ProductsComponent_div_4_div_1_ng_template_3_Template_input_input_5_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      i0.ɵɵnextContext();\n\n      const _r2 = i0.ɵɵreference(2);\n\n      return _r2.filterGlobal($event.target.value, \"contains\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 15);\n    i0.ɵɵelementStart(7, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_4_div_1_ng_template_3_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return ctx_r8.exportExcel();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_4_div_1_ng_template_3_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.switchPaginator = !ctx_r9.switchPaginator;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"label\", ctx_r3.switchPaginator ? \"See All\" : \"Off\");\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_4_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const col_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"pSortableColumn\", col_r13.field);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", col_r13.header, \" \");\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_4_th_5_input_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 29);\n    i0.ɵɵlistener(\"input\", function ProductsComponent_div_4_div_1_ng_template_4_th_5_input_1_Template_input_input_0_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const col_r14 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵnextContext(2);\n\n      const _r2 = i0.ɵɵreference(2);\n\n      return _r2.filter($event.target.value, col_r14.field, col_r14.filterMatchMode);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_4_th_5_input_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 29);\n    i0.ɵɵlistener(\"input\", function ProductsComponent_div_4_div_1_ng_template_4_th_5_input_2_Template_input_input_0_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const col_r14 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵnextContext(2);\n\n      const _r2 = i0.ɵɵreference(2);\n\n      return _r2.filter($event.target.value, col_r14.field, col_r14.filterMatchMode);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return {\n    \"width\": \"86%\"\n  };\n};\n\nfunction ProductsComponent_div_4_div_1_ng_template_4_th_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"p-dropdown\", 31);\n    i0.ɵɵlistener(\"onChange\", function ProductsComponent_div_4_div_1_ng_template_4_th_5_div_3_Template_p_dropdown_onChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const col_r14 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵnextContext(2);\n\n      const _r2 = i0.ɵɵreference(2);\n\n      return _r2.filter($event.value, col_r14.field, \"equals\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(3, _c0));\n    i0.ɵɵproperty(\"options\", ctx_r17.categorias);\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_4_th_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelementStart(1, \"input\", 33);\n    i0.ɵɵlistener(\"input\", function ProductsComponent_div_4_div_1_ng_template_4_th_5_div_4_Template_input_input_1_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const col_r14 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵnextContext(2);\n\n      const _r2 = i0.ɵɵreference(2);\n\n      return _r2.filter($event.target.value, col_r14.field, col_r14.filterMatchMode);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_4_th_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtemplate(1, ProductsComponent_div_4_div_1_ng_template_4_th_5_input_1_Template, 1, 0, \"input\", 25);\n    i0.ɵɵtemplate(2, ProductsComponent_div_4_div_1_ng_template_4_th_5_input_2_Template, 1, 0, \"input\", 26);\n    i0.ɵɵtemplate(3, ProductsComponent_div_4_div_1_ng_template_4_th_5_div_3_Template, 2, 4, \"div\", 27);\n    i0.ɵɵtemplate(4, ProductsComponent_div_4_div_1_ng_template_4_th_5_div_4_Template, 2, 0, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const col_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngSwitch\", col_r14.field);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"name\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"price\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"category\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"description\");\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 18);\n    i0.ɵɵtemplate(1, ProductsComponent_div_4_div_1_ng_template_4_th_1_Template, 2, 2, \"th\", 19);\n    i0.ɵɵelementStart(2, \"th\", 20);\n    i0.ɵɵtext(3, \"Actions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"tr\");\n    i0.ɵɵtemplate(5, ProductsComponent_div_4_div_1_ng_template_4_th_5_Template, 5, 5, \"th\", 21);\n    i0.ɵɵelement(6, \"th\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const columns_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", columns_r10);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", columns_r10);\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_5_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 41);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_div_4_div_1_ng_template_5_ng_template_3_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r42);\n      const producto_r31 = i0.ɵɵnextContext().$implicit;\n      return producto_r31.name = $event;\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const producto_r31 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngModel\", producto_r31.name);\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_5_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵelement(1, \"img\", 43);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const producto_r31 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", producto_r31.image.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", producto_r31.name, \" \");\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_5_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r47 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 41);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_div_4_div_1_ng_template_5_ng_template_7_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r47);\n      const producto_r31 = i0.ɵɵnextContext().$implicit;\n      return producto_r31.price = $event;\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const producto_r31 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngModel\", producto_r31.price);\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_5_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const producto_r31 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" $ \", producto_r31.price, \" \");\n  }\n}\n\nconst _c1 = function () {\n  return {\n    \"width\": \"100%\"\n  };\n};\n\nfunction ProductsComponent_div_4_div_1_ng_template_5_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p-dropdown\", 44);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_div_4_div_1_ng_template_5_ng_template_11_Template_p_dropdown_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r52);\n      const producto_r31 = i0.ɵɵnextContext().$implicit;\n      return producto_r31.category = $event;\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const producto_r31 = i0.ɵɵnextContext().$implicit;\n    const ctx_r38 = i0.ɵɵnextContext(3);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c1));\n    i0.ɵɵproperty(\"options\", ctx_r38.categorias)(\"ngModel\", producto_r31.category);\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_5_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const producto_r31 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", producto_r31.category, \" \");\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 34);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"p-cellEditor\");\n    i0.ɵɵtemplate(3, ProductsComponent_div_4_div_1_ng_template_5_ng_template_3_Template, 1, 1, \"ng-template\", 35);\n    i0.ɵɵtemplate(4, ProductsComponent_div_4_div_1_ng_template_5_ng_template_4_Template, 3, 2, \"ng-template\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelementStart(6, \"p-cellEditor\");\n    i0.ɵɵtemplate(7, ProductsComponent_div_4_div_1_ng_template_5_ng_template_7_Template, 1, 1, \"ng-template\", 35);\n    i0.ɵɵtemplate(8, ProductsComponent_div_4_div_1_ng_template_5_ng_template_8_Template, 2, 1, \"ng-template\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelementStart(10, \"p-cellEditor\");\n    i0.ɵɵtemplate(11, ProductsComponent_div_4_div_1_ng_template_5_ng_template_11_Template, 1, 5, \"ng-template\", 35);\n    i0.ɵɵtemplate(12, ProductsComponent_div_4_div_1_ng_template_5_ng_template_12_Template, 2, 1, \"ng-template\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 38);\n    i0.ɵɵelementStart(14, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_4_div_1_ng_template_5_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r56);\n      const producto_r31 = restoredCtx.$implicit;\n      const ctx_r55 = i0.ɵɵnextContext(3);\n      return ctx_r55.editProduct(producto_r31);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_4_div_1_ng_template_5_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r56);\n      const producto_r31 = restoredCtx.$implicit;\n      const ctx_r57 = i0.ɵɵnextContext(3);\n      return ctx_r57.deleteProduct(producto_r31);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const producto_r31 = ctx.$implicit;\n    i0.ɵɵproperty(\"pEditableRow\", producto_r31);\n  }\n}\n\nfunction ProductsComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"p-table\", 5, 6);\n    i0.ɵɵtemplate(3, ProductsComponent_div_4_div_1_ng_template_3_Template, 9, 1, \"ng-template\", 7);\n    i0.ɵɵtemplate(4, ProductsComponent_div_4_div_1_ng_template_4_Template, 7, 2, \"ng-template\", 8);\n    i0.ɵɵtemplate(5, ProductsComponent_div_4_div_1_ng_template_5_Template, 16, 1, \"ng-template\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"columns\", ctx_r1.cols)(\"value\", ctx_r1.products)(\"paginator\", ctx_r1.switchPaginator)(\"rows\", 10);\n  }\n}\n\nfunction ProductsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductsComponent_div_4_div_1_Template, 6, 4, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.categorias.length > 1);\n  }\n}\n\nexport let ProductsComponent = /*#__PURE__*/(() => {\n  class ProductsComponent {\n    constructor(productsService, messageService, categoriasService, router, utilites, deliveryService) {\n      this.productsService = productsService;\n      this.messageService = messageService;\n      this.categoriasService = categoriasService;\n      this.router = router;\n      this.utilites = utilites;\n      this.deliveryService = deliveryService;\n      this.info = false;\n      this.products = [];\n      this.cols = [];\n      this.categories = [];\n      this.clonedProduct = {};\n      this.switchPaginator = true;\n      this.topProduct = false;\n      this.categorias = [];\n    }\n\n    ngOnInit() {\n      //ocultar recibiendo pedidos\n      this.utilites.setCambioRuta(true); // get categorias para cargar el select\n\n      console.log(\"corre funcion\");\n      this.categoriasService.getCategories().subscribe(arreglo => {\n        console.log(\"Ha llegado el arreglo desde el servidor\");\n        console.log(arreglo);\n        this.categories = arreglo;\n        /* ordenar por categorias*/\n\n        /*   this.categorias = [\n                { label: 'All cat', value: null },\n                { label: 'natural juice', value: 'natural juice' },\n                { label: 'smoothies', value: 'smoothies' },\n                { label: 'bakery', value: 'bakery' },\n                { label: 'bowls', value: 'bowls' },\n                { label: 'coffee', value: 'coffee' },\n                { label: 'sodas', value: 'sodas' }\n              ]; */\n\n        this.categorias = this.categories.map(cat => {\n          return {\n            label: cat.name,\n            value: cat.name\n          };\n        });\n        this.categorias.unshift({\n          label: \"All cat\",\n          value: null\n        });\n        console.log(\"aca termina\");\n        console.log(\"estas categorias son\");\n        console.log(this.categories);\n      });\n      this.admin = localStorage.getItem('admin');\n      this.cols = [{\n        field: 'name',\n        header: 'name'\n      }, {\n        field: 'price',\n        header: 'price'\n      }, {\n        field: 'category',\n        header: 'category'\n      }];\n      /* get products from server */\n\n      this.productsService.getProducts().subscribe(products => {\n        console.log('lo que llega del servidor');\n        console.log('lo que llega del servidor');\n        console.log('lo que llega del servidor');\n        console.log(products);\n        console.log('lo que llega del servidor');\n        console.log('lo que llega del servidor');\n        console.log('lo que llega del servidor');\n        this.products = products;\n      }, error => {\n        console.log(error);\n        Utilities.errorDeConexion();\n      });\n    }\n\n    registrar() {\n      this.info = true;\n      const producto = {\n        name: this.name.trim(),\n        price: this.price,\n        description: this.description,\n        category: this.category,\n        topProduct: this.topProduct\n      };\n\n      if (!producto.price || !producto.category) {\n        Swal.fire('price OR category is missing');\n        return;\n      }\n\n      this.productsService.addProduct(producto).subscribe(data => {\n        if (data) {\n          this.products.push(data);\n          console.log(this.products);\n          this.name = '';\n          this.price = null;\n          this.description = '';\n          this.category = '';\n          this.messageService.add({\n            severity: 'success',\n            summary: 'producto {' + producto.name + '} ha sido agregado con exito',\n            detail: 'en la base de datos'\n          });\n        }\n      }, error => {\n        console.log(error);\n        Swal.fire(error.error.msg);\n      });\n    }\n\n    onRowEditInit(producto) {\n      console.log('INICIALIZANDO ONROWINITDATA');\n      console.log(producto);\n    }\n\n    onRowEditSave(product) {\n      this.productsService.UpdateProduct(product).subscribe(productUpdated => {\n        if (productUpdated) {\n          this.messageService.add({\n            severity: 'success',\n            summary: 'producto {' + product.name + '} ha sido actualizado con exito',\n            detail: 'en la base de datos id = ' + product._id\n          });\n        }\n      }, error => {\n        console.log(error);\n        this.messageService.add({\n          severity: 'error',\n          summary: 'error en la comunicacion',\n          detail: 'verifica tu conexion a internet'\n        });\n      });\n    }\n\n    onRowEditCancel(producto, ri) {}\n\n    deleteProduct(product) {\n      // alert(id);\n      if (this.userNotAdmin()) return;\n      let id = product._id;\n      Swal.fire({\n        icon: 'error',\n        title: 'Are you completely SURE to delete this product  <p  style=\"color:orangered;display=inline>' + product.name + '</p>, no hay vuelta de hoja',\n        showCancelButton: true,\n        focusConfirm: false,\n        confirmButtonText: 'DELETE <i class=\"fas fa-skull-crossbones\"></i>',\n        cancelButtonText: 'NO DELETE <i class=\"fas fa-walking\"></i>',\n        confirmButtonColor: '#9D0D0B',\n        cancelButtonColor: '#19B600'\n      }).then(result => {\n        if (result.value) {\n          this.productsService.DeleteProduct(product).subscribe(response => {\n            if (response) {\n              this.products.splice(id, 1);\n              this.products = this.products.filter(h => h !== product);\n              this.messageService.add({\n                severity: 'info',\n                summary: 'producto {' + product.name + '} eliminado',\n                detail: 'en la base de datos id = ' + product._id\n              });\n            }\n          }, error => {\n            this.messageService.add({\n              severity: 'error',\n              summary: 'error en la comunicacion',\n              detail: 'verifica tu conexion a internet'\n            });\n          });\n        }\n      });\n    }\n\n    userNotAdmin() {\n      if (localStorage.getItem('user') === 'false') {\n        Swal.fire({\n          title: 'You have no permissions to make this actions sorry.. for more info contact Cristian please',\n          icon: 'error'\n        });\n        return true;\n      }\n    }\n\n    exportExcel() {\n      import('xlsx').then(xlsx => {\n        const worksheet = xlsx.utils.json_to_sheet(this.paseDataString());\n        const workbook = {\n          Sheets: {\n            data: worksheet\n          },\n          SheetNames: ['data']\n        };\n        const excelBuffer = xlsx.write(workbook, {\n          bookType: 'xlsx',\n          type: 'array'\n        });\n        this.saveAsExcelFile(excelBuffer, 'primengTable');\n      });\n    }\n\n    paseDataString() {\n      let productos = [];\n\n      for (let objetosProductos of this.products) {\n        objetosProductos.price = objetosProductos.price.toString();\n        objetosProductos._id = objetosProductos._id.toString();\n        productos.push(objetosProductos);\n      }\n\n      return productos;\n    }\n\n    saveAsExcelFile(buffer, fileName) {\n      import('file-saver').then(FileSaver => {\n        let EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n        let EXCEL_EXTENSION = '.xlsx';\n        const data = new Blob([buffer], {\n          type: EXCEL_TYPE\n        });\n        FileSaver.saveAs(data, fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION);\n      });\n    }\n\n    addCategory() {\n      Utilities.CreateCategory(this.router);\n    }\n\n    editProduct(product) {\n      this.router.navigate(['/dashboard/parentProducts/delivery', {\n        product_id: product._id\n      }]);\n    }\n\n  }\n\n  ProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n    return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductosService), i0.ɵɵdirectiveInject(i2.MessageService), i0.ɵɵdirectiveInject(i3.CategoriasService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.Utilities), i0.ɵɵdirectiveInject(i6.DeliveryService));\n  };\n\n  ProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductsComponent,\n    selectors: [[\"app-products\"]],\n    decls: 6,\n    vars: 1,\n    consts: [[1, \"products-component\"], [1, \"product-header\"], [4, \"ngIf\"], [\"class\", \"table-container\", \"style\", \"padding: 20px;\", 4, \"ngIf\"], [1, \"table-container\", 2, \"padding\", \"20px\"], [\"dataKey\", \"_id\", 3, \"columns\", \"value\", \"paginator\", \"rows\"], [\"tt\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [1, \"row\"], [1, \"col-12\"], [1, \"d-flex\", \"justify-content-center\", \"align-items-center\"], [2, \"margin\", \"4px 4px 0 0\"], [\"type\", \"text\", \"pInputText\", \"\", \"size\", \"50\", \"placeholder\", \"Busqueda Global\", 1, \"busqueda-global\", 2, \"width\", \"auto\", 3, \"input\"], [1, \"text-white\", \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-file-excel\", \"iconPos\", \"left\", \"label\", \"EXCEL\", 1, \"p-button-success\", 2, \"margin-right\", \"0.5em\", 3, \"click\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-file-excel\", \"iconPos\", \"left\", 1, \"p-button-info\", 2, \"margin-right\", \"0.5em\", 3, \"label\", \"click\"], [1, \"text-center\"], [\"style\", \"width:100px;\", \"class\", \"text-center\", 3, \"pSortableColumn\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\", 2, \"width\", \"8em\"], [\"class\", \"text-center\", 3, \"ngSwitch\", 4, \"ngFor\", \"ngForOf\"], [2, \"width\", \"8em\"], [1, \"text-center\", 2, \"width\", \"100px\", 3, \"pSortableColumn\"], [1, \"text-center\", 3, \"ngSwitch\"], [\"style\", \"width: 132px;\", \"pInputText\", \"\", \"type\", \"text\", 3, \"input\", 4, \"ngSwitchCase\"], [\"pInputText\", \"\", \"type\", \"text\", \"style\", \"width: 132px;\", 3, \"input\", 4, \"ngSwitchCase\"], [\"style\", \"width: 214px;\", 4, \"ngSwitchCase\"], [\"tyle\", \"width: 214px;\", 4, \"ngSwitchCase\"], [\"pInputText\", \"\", \"type\", \"text\", 2, \"width\", \"132px\", 3, \"input\"], [2, \"width\", \"214px\"], [3, \"options\", \"onChange\"], [\"tyle\", \"width: 214px;\"], [\"pInputText\", \"\", \"type\", \"text\", 2, \"width\", \"50%\", 3, \"input\"], [3, \"pEditableRow\"], [\"pTemplate\", \"input\"], [\"pTemplate\", \"output\"], [\"pTemplate\", \"output\", \"class\", \"text-center\"], [2, \"text-align\", \"center\"], [\"pButton\", \"\", \"type\", \"button\", \"pInitEditableRow\", \"\", \"icon\", \"pi pi-pencil\", 1, \"p-button-info\", 2, \"margin-right\", \".5em\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"pCancelEditableRow\", \"\", \"icon\", \"pi pi-times\", 1, \"p-button-danger\", 3, \"click\"], [\"pInputText\", \"\", \"type\", \"text\", 2, \"width\", \"132px\", 3, \"ngModel\", \"ngModelChange\"], [1, \"px-4\"], [\"alt\", \"\", 1, \"product-image-ontable\", 3, \"src\"], [2, \"width\", \"200px\", 3, \"options\", \"ngModel\", \"ngModelChange\"]],\n    template: function ProductsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\");\n        i0.ɵɵtext(3, \" Products \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, ProductsComponent_div_4_Template, 2, 1, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"p-toast\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.categorias);\n      }\n    },\n    directives: [i7.NgIf, i8.Toast, i9.Table, i2.PrimeTemplate, i10.MatIcon, i11.InputText, i12.ButtonDirective, i7.NgForOf, i9.SortableColumn, i7.NgSwitch, i7.NgSwitchCase, i13.Dropdown, i9.EditableRow, i9.CellEditor, i9.InitEditableRow, i9.CancelEditableRow, i14.DefaultValueAccessor, i14.NgControlStatus, i14.NgModel],\n    styles: [\".tp-container[_ngcontent-%COMP%]{display:flex;width:50%;margin:2rem auto;flex-direction:column;font-size:1.7rem}.tp-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.radio-button[_ngcontent-%COMP%]{margin:5px}.busqueda-global[_ngcontent-%COMP%]{background-color:#1d1d1d!important;margin:1rem 0!important;font-size:1.8rem!important;width:33%!important;border:none!important;outline:none!important;border-radius:3px!important;padding:1rem!important;color:#fff!important}.products-component[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:all .3s ease-in;width:calc(100% - 23rem);margin-left:auto}td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:20px}.product-image-ontable[_ngcontent-%COMP%]{vertical-align:middle;border-style:none;width:5rem;border-radius:50%;height:5rem;margin-right:4%;padding:2px}\"],\n    data: {\n      animation: [zoomInLeftOnEnterAnimation()]\n    }\n  });\n  return ProductsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}