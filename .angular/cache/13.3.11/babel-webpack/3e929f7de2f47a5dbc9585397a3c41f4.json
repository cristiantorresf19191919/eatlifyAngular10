{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/servicios/delivery.service\";\nimport * as i2 from \"src/app/servicios/delivery-transfer-data.service\";\nimport * as i3 from \"../../Utilties\";\nimport * as i4 from \"src/app/servicios/productos.service\";\n\nfunction BakeryDeliComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"img\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r1.image.url, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction BakeryDeliComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵlistener(\"click\", function BakeryDeliComponent_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.pasarEvento(item_r1);\n    });\n    i0.ɵɵtemplate(1, BakeryDeliComponent_div_1_div_1_Template, 2, 1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r1.image);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$ \", item_r1.price, \"\");\n  }\n}\n\nexport let BakeryDeliComponent = /*#__PURE__*/(() => {\n  class BakeryDeliComponent {\n    constructor(deliverService, deliveryTransferData, utilities, productsService) {\n      this.deliverService = deliverService;\n      this.deliveryTransferData = deliveryTransferData;\n      this.utilities = utilities;\n      this.productsService = productsService;\n      this.loading = false;\n    }\n\n    ngOnInit() {\n      //cargar todos los productos para no dejar en blanco la pantalla\n      this.productsService.getProducts().subscribe(products => {\n        if (products) {\n          this.bakeryProducts = products;\n        }\n      }); //para actualizar la foto automaticamente que se carga despues de salvar\n      // me toca buscar el objeto que tenga el mismo id\n      // y luego cambiarlo y meterlo wow\n\n      this.utilities.notificarUpload.subscribe(item => {\n        let productoACambiar = this.bakeryProducts.find(eachItem => eachItem._id == item._id);\n        let indice = this.bakeryProducts.indexOf(productoACambiar);\n        this.bakeryProducts.splice(indice, 1);\n        this.bakeryProducts.unshift(item);\n      });\n      this.deliveryTransferData.getCategoryData().subscribe(category => {\n        this.loading = true;\n        this.deliverService.getProducts(category).subscribe(bakeryProductsServer => {\n          setTimeout(() => {\n            this.loading = false;\n          }, 100);\n          console.log(\"bakery products\");\n          console.log(bakeryProductsServer);\n\n          if (bakeryProductsServer) {\n            this.bakeryProducts = bakeryProductsServer;\n          }\n        }, error => {\n          console.log(error);\n        });\n      });\n    }\n\n    pasarEvento(item) {\n      this.deliverService.setItem(item);\n    }\n\n  }\n\n  BakeryDeliComponent.ɵfac = function BakeryDeliComponent_Factory(t) {\n    return new (t || BakeryDeliComponent)(i0.ɵɵdirectiveInject(i1.DeliveryService), i0.ɵɵdirectiveInject(i2.DeliveryTransferDataService), i0.ɵɵdirectiveInject(i3.Utilities), i0.ɵɵdirectiveInject(i4.ProductosService));\n  };\n\n  BakeryDeliComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BakeryDeliComponent,\n    selectors: [[\"app-bakery-deli\"]],\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"parent\"], [\"class\", \"item\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"item\", 3, \"click\"], [\"class\", \"imagen-container\", 4, \"ngIf\"], [1, \"item-details-container\"], [1, \"imagen-container\"], [\"alt\", \"\", 1, \"imagen-producto\", 3, \"src\"]],\n    template: function BakeryDeliComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, BakeryDeliComponent_div_1_Template, 7, 3, \"div\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.bakeryProducts);\n      }\n    },\n    styles: [\".item[_ngcontent-%COMP%]{transition:all .2s;transform:all .2s;perspective:50rem;-moz-perspective:70rem;border-radius:5px;transform:all 3s;position:relative;height:20rem;width:100%;background-color:#273688b6;display:flex;flex-direction:column;align-items:center;justify-content:flex-end}.item[_ngcontent-%COMP%]:active{cursor:pointer}.item[_ngcontent-%COMP%]:hover{background:#4e62d3;transform:scale(1.03)}.item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{z-index:9;transition:all .3s ease-in}.item[_ngcontent-%COMP%]   .imagen-container[_ngcontent-%COMP%]{position:absolute;left:0;top:0;overflow:hidden;width:100%;background:#33333338;height:100%;transition:all .3s ease-in}.item[_ngcontent-%COMP%]   .imagen-container[_ngcontent-%COMP%]:hover{background:none}.item[_ngcontent-%COMP%]   .imagen-container[_ngcontent-%COMP%]   .imagen-producto[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:-1;width:100%;height:100%;transition:all .3s ease-in}.item[_ngcontent-%COMP%]   .item-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0 1.5rem;background:#00000073;width:100%}.item[_ngcontent-%COMP%]   .imagen-container[_ngcontent-%COMP%]:hover ~ h2[_ngcontent-%COMP%]{color:#000;background:white}.item[_ngcontent-%COMP%]   .imagen-container[_ngcontent-%COMP%]:hover   .imagen-producto[_ngcontent-%COMP%]{filter:brightness(110%) contrast(120%)}.item[_ngcontent-%COMP%]   .imagen-container[_ngcontent-%COMP%]:hover + .item-details-container[_ngcontent-%COMP%]{background-color:#333333af}.item[_ngcontent-%COMP%]   .imagen-container[_ngcontent-%COMP%]:active > .imagen-producto[_ngcontent-%COMP%]{transform:translateY(-20rem)}.parent[_ngcontent-%COMP%]{display:grid;padding:.7rem;grid-template-columns:repeat(3,1fr);grid-gap:10px 30px;border:2px solid white;position:relative}@keyframes bounceOutUp{0%{transform:translateY(-10px);opacity:.8}to{opacity:.1;transform:translateY(-2000px) rotateX(180deg)}}\"]\n  });\n  return BakeryDeliComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}